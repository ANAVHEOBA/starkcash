// Verification key constants from trusted setup
// Generated from circuits/build/verification_key.json
// 
// NOTE: For production, these constants should be generated using Garaga's CLI:
// garaga gen --system groth16 --vk circuits/build/verification_key.json
//
// This file shows the structure but uses placeholder values.
// The actual pairing check requires Garaga's precomputed lines and hints.

use starknet::ContractAddress;

// BN254 curve parameters
pub const BN254_PRIME: u256 = 0x30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001;

// G1 point on BN254 curve
#[derive(Copy, Drop, Serde, Debug, PartialEq)]
pub struct G1Point {
    pub x: u256,
    pub y: u256,
}

// G2 point on BN254 curve (extension field)
#[derive(Copy, Drop, Serde, Debug, PartialEq)]
pub struct G2Point {
    pub x0: u256,
    pub x1: u256,
    pub y0: u256,
    pub y1: u256,
}

// Groth16 proof structure
#[derive(Copy, Drop, Serde, Debug, PartialEq)]
pub struct Groth16Proof {
    pub a: G1Point,
    pub b: G2Point,
    pub c: G1Point,
}

// Number of public inputs (root, nullifierHash, recipient, relayer, fee, refund)
pub const N_PUBLIC_INPUTS: u32 = 6;

// IC points for public input linear combination
// From verification_key.json "IC" field
// IC[0] + sum(public_input[i] * IC[i+1]) for i in 0..N_PUBLIC_INPUTS
//
// Actual values from verification key:
// IC[0]: (21803256708793184875915394099088435322996943370739436017959331997775036765951, 13647890256252499749812228062672553318846411051181216722727008301643553437494)
// IC[1]: (2009934341112793095764594823491986239856509637518659516635558628307350063775, 12149379174212154032583232597209041268638364834489306241546503607512082163945)
// ... (7 total IC points for 6 public inputs + 1)
pub fn get_ic_points() -> Array<G1Point> {
    array![
        // IC[0] - base point
        G1Point {
            x: 21803256708793184875915394099088435322996943370739436017959331997775036765951,
            y: 13647890256252499749812228062672553318846411051181216722727008301643553437494
        },
        // IC[1] - for root
        G1Point {
            x: 2009934341112793095764594823491986239856509637518659516635558628307350063775,
            y: 12149379174212154032583232597209041268638364834489306241546503607512082163945
        },
        // IC[2] - for nullifierHash
        G1Point {
            x: 7179781757762587689133114594632184076769766905515655032206962666934287132958,
            y: 15820187703529410892666503811404730865086339520114299358720918594137507724417
        },
        // IC[3] - for recipient
        G1Point {
            x: 6183200594619529372088993853048223001612655938100189116029513939296624736373,
            y: 20721233541169543282179943263309945900523956509348453742772756176788776026231
        },
        // IC[4] - for relayer
        G1Point {
            x: 9558022545254198238792872316387236723943288530294155395116127577825025083130,
            y: 9740150083809343577254841444839505644006033416279496134006206849978212156914
        },
        // IC[5] - for fee
        G1Point {
            x: 11905915001598690402834243232715223195472871260791679305716661031329846759884,
            y: 3738015848405418656109433637740768083627747197425855794776842797333948336479
        },
        // IC[6] - for refund
        G1Point {
            x: 4903395639294173023547076095439653634282702843114330336704477514533709395706,
            y: 18375995408670108040464510900903549735386626441775179533051472821374733814367
        },
    ]
}

// Verification key alpha point (G1)
// From verification_key.json "vk_alpha_1" field
pub fn get_vk_alpha() -> G1Point {
    G1Point {
        x: 9873223873726350425022909227236943185941635882882137898945085329692507246347,
        y: 14400989089508411354579567501966667992652098469551231400372250190680615121165
    }
}

// Verification key beta point (G2)
// From verification_key.json "vk_beta_2" field
pub fn get_vk_beta() -> G2Point {
    G2Point {
        x0: 1818920428496212928558199576772610302811223138999431319266746789121731967407,
        x1: 21363530611459668362679584310412721801429066456716667648850738477987495694383,
        y0: 18973012550465269410208430357471440546402095227488389000479316731281709866366,
        y1: 3528268463689480237668154096173739673318331497633732643275067802032356569982
    }
}

// Verification key gamma point (G2)
// From verification_key.json "vk_gamma_2" field
pub fn get_vk_gamma() -> G2Point {
    G2Point {
        x0: 10857046999023057135944570762232829481370756359578518086990519993285655852781,
        x1: 11559732032986387107991004021392285783925812861821192530917403151452391805634,
        y0: 8495653923123431417604973247489272438418190587263600148770280649306958101930,
        y1: 4082367875863433681332203403145435568316851327593401208105741076214120093531
    }
}

// Verification key delta point (G2)
// From verification_key.json "vk_delta_2" field
pub fn get_vk_delta() -> G2Point {
    G2Point {
        x0: 8923608123576019303335884652815462187007124683193881042161937295119478014662,
        x1: 8480170951904186236052675190628217420638888672263478777584565650679406832869,
        y0: 262437838918265155876247947200813488383447216507494260715771249400038828145,
        y1: 6476174677430425468986501894367810544154415552605481207693288369550817342214
    }
}
